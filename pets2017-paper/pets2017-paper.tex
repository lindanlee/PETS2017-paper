\documentclass{template}
\usepackage{color}
\usepackage[hyphens]{url}
\usepackage{longtable}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{pdfpages}
\usepackage{hyperref}

\def\etal{{\it et al.~}}
\newenvironment{packed_enum}{
\begin{enumerate}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{enumerate}}
\newenvironment{packed_item}{
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{itemize}}

\begin{document}

%what I really want to say is that the interesting aspect of this usable design is that we had to 
%account for people who wouldn't need to use this launcher at all and also for at-risk users.
%... but in one catchy title. I can't think of one.
\title{Designing for Multiple Use and At-Risk Users: Tor Configuration Launcher}
\numberofauthors{1}
\author{
 \alignauthor Linda N. Lee, David Fifield, Nathan Malkin \\
   \vspace{0.5em}
   \affaddr{University of California, Berkeley} \\
   \affaddr{\{lnl,fifield,nmalkin\}@cs.berkeley.edu}\\
}
\maketitle

\begin{abstract}
{\color {red} 
stuff here
}
\end{abstract}

\keywords{User Studies, Tor, Security, Censorship, Anonymity}

\section{Introduction}
{\color {red} 
Introduce what Tor is, and what the configuration interface does in the Tor Browser Bundle. Explain the story of how it began as an anonymity tool, but it has since changed to become a censorship circumvention tool. Give statistics of how many people use it (although we can't say how many for what reason exactly), and interesting trends, such as a spike in use around election times or some big political event. 
}

This study aims to understand of what is confusing about the configuration process and what find changes make the process easier. Our study consists of three stages. User interactions with the current interface in various censorship environments generated the problems we address in the study. User feedback and observations of users steered the design process for an improved configuration interface. User metrics, such as success rate and time to completion, measured how well the interfaces served their purpose. 

{\color {red}
Explain the state of censorship circumvention today, and what governments do to Tor (block it, etc.). Mention the current consequences of people if they try to connect to Tor. Then drive home why it is important for the interface to be usable. And that there have been previous work on Tor Browser, but not any previous work done for its usability as a censorship circumvention tool.
}

Currently, x\% of users fail and with the current interface for reasons a, b, and c. Of those that do succeed, the average time to completion is y. This can lead to a bad user experience, users quitting Tor, or causing high-risk users to make mistakes. With the new design, only x'\% of users fail to configure successfully and the average time to completion is y'. Tor has already implemented some of these changes. 

\section{Background} 
\subsection{The Interface} 
{\color {red} storyboard of the old interface 

\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt
    \item No bridge, no proxy
    \item with bridge, no proxy
    \item No bridge, with proxy
    \item With bridge, with proxy
\end{enumerate}
}
\subsection{Kinds of Users} 
\subsection{Network Components} 
\subsection{Censorship Environments} 

\section{Goals/Evaluation Criteria} 
\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt
    \item {\bfseries Task Completion} Almost all can successfully connect to Tor
    \item {\bfseries Time to Completion} Time to completion. 
    \item {\bfseries Safe for High-Risk Users} It should be possible to configure Tor with the interface that it doesn't leak that they are using Tor. 
\end{enumerate}

\section{Qualitative Analysis of the Existing Interface (Study 1)}
\subsection{Motivation} 
\subsection{Methodology} 
\subsubsection{Setup}
\label{sec:setup}
We simulated three censorship environments for our experiment.
These reproducible, stable environments are informed by our experience 
with pluggable transports and knowledge of commonly seen censorship 
techniques. Their goal in our user study is not to replicate the network 
environment in any particular country, but to require our participants to 
configure Tor Browser in distinct configurations. 

\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt
\item {\bfseries Mild censorship} 
(Representative of countries such as France and Australia.)
Certain domains are blocked. Reaching these 
domains requires a censorship circumvention 
tool. The default option to ``connect'' to the Tor network 
directly will circumvent this censor. Additional correct
bridge or proxy configurations are optional. 

\item {\bfseries Intermediate censorship} 
(Representative of countries such as Tunisia.)
Certain domains are blocked. Censorship circumvention
tools such as Tor are blocked. Since all public Tor
relay nodes are blocked, the default option to ``connect'' to the Tor network
directly will fail. Any choice of a hard-coded bridge
or a valid non-public bridge will circumvent this censor.  
Additional correct proxy configuration is optional.

\item {\bfseries Comprehensive censorship} 
(Representative of countries such as China and Syria.)
Certain domains are blocked. Censorship circumvention tools
are thoroughly blocked. Tor is blocked by blocking all public
Tor relay nodes, and the censor has examined source code to block
all hard-coded bridge relays in the configuration interface. The default option
to ``connect'' to the Tor network directly will fail. Most bridges will fail,
but ``meek-amazon,'' ``meek-azure,'' and ``meek-google'' still work.
This is because domain-fronting requires censors to block entire CDNs to also
block this transport (which will cause huge collateral blocking damage), making
it resistant to aggressive censorship environments.
(See ~\cite{fifield2015blocking} for additional details.)\\
\end{itemize}

\subsubsection{Recruitment}

\subsubsection{Procedure}
We conducted a qualitative evaluation of the interface by creating an environment 
for users to interact with the configuration interface in a censored environment, 
observing their interactions in real time without interacting with the participants, 
and following up with interviews about their experiences.
Using established best practices from the field of user experience research
(\cite{howmanyusers}), we recruited five users for each censorship environment.
We pre-screened our participants to have a good mix of gender, age, technical
background, and familiarity with Tor in each environment. 

%Some references to keep in mind when explaining:
%\href{why 5 users}{http://www.nngroup.com/articles/how-many-test-users/}
%\href{screening}{http://www.userfocus.co.uk/articles/screeners.html}
%\href{summative and usability mixed model}{http://www.usabilitybok.org/summative-usability-testing}

The 1-hour, single-participant procedure begins when a participant enters a small 
room with a single computer, which is equipped with Chrome, Firefox, Internet Explorer, 
Chrome, and VLC (for screen recording). A participant is firstly informed of 
the risks of the study and consenting to data collection. If they consent, the 
experiment begins. The participant is informed that they are in a
simulated censorship environment, where some websites are blocked. We
instruct them to visit a sample blocked website and a sample non-blocked website on a
non-Tor browser of their choice to illustrate the situation.

After illustrating the censorship environment, participants are asked to 
complete a worksheet that asks to visit one blocked website and one non-blocked website. 
We chose Wikipedia's featured article of the day as the blocked website and 
the CNN homepage as our non-blocked website because the familiarity 
that most users have with these websites makes the browsing task relatively easy, 
which focuses participants' attention to configuring Tor Browser. 

After instructions, researchers stepped out of the room so that there was no interaction
between the participant and researcher for the rest of the session. Participants' screens 
were recorded and streamed to another room, where the researchers were able to 
observe how a participant configured their browser. Participants had an 
average of 45 minutes to complete their worksheet. 
At this point, the participants do not know the details of their censorship environment,
only that they are actively being censored. We believe that this is representative 
of the mental model of users in censored countries, and therefore chose to simulate 
this for the experiment. Ultimately, participants needed to configure Tor Browser to 
circumvent the simulated censorship. 

After users completed the browsing tasks or have spent the rest of the time
trying to configure Tor Browser, we interviewed participants about their experience.
We asked three standard questions asking about their general experience, 
confusing interface features, and soliciting feedback for improvements. We followed up
with specific questions we had for a particular participant from observing their screen. 
This was to verify any hypothesis we had about the participant (i.e. ``they didn't know what to do on window 3'').  

\subsubsection{Results} 
%\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt
%    \item {\bfseries Task Completion} Almost all can successfully connect to Tor
%    \item {\bfseries Time to Completion} Time to complete, ease of user for the average user. 
%    \item {\bfseries Safe for High-Risk Users} It should be possible to configure Tor with the interface that it doesn't leak %that they are using Tor. 
%\end{enumerate}

{\color {red}
We noticed four common challenges:  

\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt
\item {\bfseries Challenge 1:} Users don't know how to choose between connecting directly to the Tor network or manually configuring their connection (Figure \ref{fig:window1}). The text was unread or not understood by most users. When the user read the text, they found no instructions, but were given information to make a decision for themselves, which they did not feel equipped to do.  
\item {\bfseries Challenge 2:} Users feel compelled to set up a bridge, even if they don't need one. We believe this is due to the text on the first screen, which refers to a ``censored internee connection'' (Figure \ref{fig:window1}). Bridges are only necessary when the government actively censored Tor relays, but participants are not able to determine the difference between a censor that blocks websites and a censor that blocks websites and the Tor network. 
\item {\bfseries Challenge 3:} Users did not know what to do after a failure. Error messages (see Figure \ref{fig:error}) did not guide users into taking specific actions (such as trying a different bridge, trying the same configuration again, try connecting directly, etc.).
\item {\bfseries Challenge 4:} Users draw incorrect conclusions after a failed connection. The interface passively re-displayed the last window seen before the attempted connection (Figure \ref{fig:window4} or \ref{fig:window5}), regardless of the error.
\end{itemize}
}

\section{Redesigning the Configuration Interface}

{\color {red} 

Only use the following if it helps explain some things. Make sure the tone of things are positive, and explain that making a good interface is harder than it seems.

{\bfseries What it's trying to do}
\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt
    \item separate people who use Tor for anonymity and for censorship 
    \item if anonymity, to connect people directly
    \item if censorship, guide users to make the correct configuration
    \item minimize network traces to protect high-risk users
\end{enumerate}


{\bfseries Why certain decisions were made}
{\color {red} 
\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt
    \item {\bfseries Asking the User} asking users about their situation rather than hardcoding or probing
    \item {\bfseries No Explicit Advice} no suggestion of what to try and in what order
    \item {\bfseries No Automation} manual configuration of bridges and proxies required
    \item {\bfseries Optimizing for the Average Case} connect, bridges before proxy
\end{enumerate}
}

What to talk about in this section: 
\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt 
\item Talk about the process of translating observations and feedback into feature changes. 
\item Polishing the interface by working with a designer, using heuristics, and using technical information. 
\item Iterative design and feedback cycle. 
\item How we made a functional, instrumented prototype (forking from the interface repo on github and hacking on it) and instrumented the old prototype. 
\end{itemize} 

Talk about how the design as a conservative design. And why the conservative choices were made. For at-risk users, maintainability, etc.
}

\section{Quantitative Analyses of the Interfaces (Study 2)}

\subsection{Motivation} 

\subsection{Methodology} 
\subsubsection{Setup}
For consistency, we simulated the same three censorship environments from 
our qualitative user study. Details of the mild, intermediate, and advanced 
censorship environments and what configurations are necessary for a 
successful connection can be found in Section \ref{sec:setup}. 

\subsubsection{Recruitment}
\subsubsection{Procedure}
\subsubsection{Results}

% $ grep 'default_bridge\.' tor-browser_en-US/Browser/TorBrowser/Data/Browser/profile.default/preferences/extension-overrides.js | awk -F. '{print $4}' | sort | uniq -c
%       5 flashproxy
%       6 fte
%       2 fte-ipv6
%       1 meek-amazon
%       1 meek-azure
%       1 meek-google
%       5 obfs3
%       3 obfs4
%       2 scramblesuit
% The 5 flashproxy lines are effectively 1.
Tor Browser 5.0.3 came configured with default bridges:
1 flashproxy;
8 fte;
3 meek;
5 obfs3;
3 obfs4;
and 2 scramblesuit.
In the time since 5.0.3 was released and our later experiment,
two of the obfs4 bridges and one of the scramblesuit bridges stopped running.
% These are the bridges that stopped running. schanenlied is known and intentional.
% 188.226.213.208 in known and intentional: https://bugs.torproject.org/17318. Maybe
% it was not even running at the time of 5.0.3.
% mercurius4 is probably not running by accident.
% schanenlied:
% obfs4 178.209.52.110:443 67E72FF33D7D41BF11C569646A0A7B4B188340DF cert=Z+cv8z19Qb8RxWlkagp7SxiDQN++b7D2Tntowhf+j4D15/kLuj3EoSSGvuREGPc3h60Ofw iat-mode=0
% mercurius4:
% obfs4 104.131.108.182:56880 EF577C30B9F788B0E1801CF7E433B3B77792B77A cert=0SFhfDQrKjUJP8Qq6wrwSICEPf3Vl/nJRsYxWbg3QRoSqhl2EB78MPS2lQxbXY4EW1wwXA iat-mode=0
% (nickname unknown):
% scramblesuit 188.226.213.208:54278 AA5A86C1490296EF4FACA946CC5A182FCD1C5B1E password=MD2VRP7WXAMSG7MKIGMHI4CB4BMSNO7T
This left enough bridges that participants in the later experiment would be able to connect
under the same circumstances as those in the earlier experiment.
We did not modify the set of bridges between the experiments,
with one exception.
One of the meek bridges changed its bridge identity fingerprint;
Tor clients check the identity fingerprint and refuse to connect
if it does not match.
Therefore we patched the correct fingerprint in the later experiment.

\subsection{Results} 

\section{Future Work} 
{\color {red}
\noindent {\bfseries Changing the Current Interface} merge, push. 

\noindent{\bfseries Finishing Touches} 
\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt 
\item {\bfseries Detecting the need for proxies.} We hacked this together for now. 
\item {\bfseries Handling rare error cases.} Mention clock drift and proxy connection cases.
\item {\bfseries Additional user feedback.} Animation in the progress window. 
\item {\bfseries Stylization.} Comply with design style guides, if any. 
\end{itemize} 

\noindent{\bfseries Measuring Impact} Tor metrics to see if this is helping at the large scale, and for future user study work in general. 
}

\section{Discussion} 

If we had more concrete information on the number of high-risk users or users who need to configure a proxy, we would have made additional changes in the prototype. Since we lacked this information, the following changes did not make it into our prototype, but are worth discussing. Depending on the number of high-risk users or proxy-configuring users, these additional changes may be helpful: 
\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt 
\item {\bfseries Tell people to click connect.} On the first screen, the user needs to decide to connect or configure. Although there is a description of what each option entails and when one may consider using that option, there are no instructions for the user on what to do. Ideally, we would people to click connect, and then try the manual configuration if a direct connection fails. We currently do not communicate this because may put some users at risk. However, it is believed that a majority of the users will succeed if they click connect on the first screen, and giving them instructions on what to do can lessen their cognitive load during the configuration process. 
\item{\bfseries Hide the proxy screen.} Don't give users the option to configure a proxy unless it has been detected that it would be necessary. The amount of people who use proxies is low, but then ... this would not give users control in the beginning of the configuration process. 
\item{\bfseries Help the at-risk users.} There are people who would benefit from, on the first attempt, connecting with a meek bridge or custom bridge, without trying a vanilla tor connection or the recommended bridge in the dialog. Currently, we guide these people to the correct decision, but after trying the default bridge first. Helping these users to make a connection safely without ever being logged as connecting to Tor would be a benefit, but might be a case of overfitting to these types of users. A majority of users should not use a meek bridge or custom bridge, so it would be unideal to lead all users to this decision.
\end{itemize} 

We took an approach that optimized for the average case user yet was conservative in automation to allow at-risk users to possibly connect without leaking that they use Tor. We believe that this is a sound approach to interacting with the user and the one we would recommend personally. However, there are alternative approaches to interacting with the user that may be of interest:  
\begin{itemize} \itemsep1pt \parskip0pt \parsep0pt 
\item{\bfseries Automate the entire configuration process.} This sounds like a radical idea, but it really isn't. Today, this wouldn't harm most of our users. Our study finds that most users do not configure better than we do and would leak that they are using Tor anyway. 
\item {\bfseries Auto-configure after connect.} After a person has already clicked connect and the connection was unsuccessful, they have already been logged. I am assuming that the significant difference is between being logged trying to connect to Tor or not at all, rather than the number of connection attempts made. This would greatly save our users a lot of headache. 
\item{\bfseries Ask about the risk.} Rather than having the configuration dialog be manual by default, just ask if the users are at risk if the process was automated. If they are not at risk, we can do it automatically, and the at-risk users can configure manually. The issue with this is that people may not answer this question honestly, or they might not know the correct answer to this question. 
\item{\bfseries Ask if they are qualified to make decisions.} Asking users if they know which bridge to choose, and choosing for them if they say they don't know. We probably know better than they do. But there are ethical implications of choosing bridges for them rather them making the mistakes themselves. The issue with this is that people may not answer honestly. 
\end{itemize}


\section{Related Work} 

\section {Acknowledgments}

% Cecile Basnage for review of the UI of circumvention tools.

\section{Conclusion} 

\bibliographystyle{abbrv}
\bibliography{pets-2017-paper.bib} 

\appendix
\section{Participant Worksheet Text} 
Imagine you live in an oppressive country that censors part of the Internet. We have simulated this in the laboratory by blocking certain websites and services. The purpose of this experiment is to evaluate the use of Tor browser, which is a browser that can circumvent censorship and let you visit blocked websites. For instance, www.torproject.org is blocked. Check this by going to the site on a standard browser, like Firefox, Chrome, or Internet Explorer. It will fail to load, when you can visit other sites.

To complete this worksheet, you will need to set up Tor browser (on your desktop) correctly and use it to get to blocked site. If you can visit wikipedia, then you know that you have successfully circumvented censorship.


\section{Qualitative User Study Prescreening Survey} 
We are recruiting participants for an in-person research study at the University of California, Berkeley. You will need to come in to our lab and perform tasks on a computer for an hour or less. You will be compensated \$30 for participating. No special knowledge and no technical experience is required.

\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt 
\item{Please select when you are available. We will assign you an hour experiment time slot during one of those times.}
\item{I am able to provide my own transportation to the University of California, Berkeley campus.}
\item{Thank you for your interest! Please provide an email address where we can contact you to share more logistical details.}
\item{we are looking for a very small number of participants, so unfortunately, we may not be able to accommodate everyone who applies. Would you like us to let you know about future opportunities?}
\item{What is your gender?}
\item{What is your age?}
\item{Please select your highest completed (or current) level of education.}
\item{What is your occupation?} 
\item{Do you speak any languages other than English fluently?}
\item{If you have a personal computer, what kind do you use?}
\item{Which of the following terms have you heard of? \textit{<answer choices: a checkboxlist of the the following terms: malware, proxy services, phishing, SSL, X.511 certificates, Tor>}}
\item{How often do you use the following software or features? \textit{<answer choices: a grid of radio buttons. Software/features (rows): HTTPS on web pages, proxies or other censorship circumvention tools, virtual private networks (VPN), file or whole-disk encryption, anonymity systems (e.g., Tor), email encryption (e.g., PGP), chat or instant messaging encryption, voice communication encryption. Frequency (columns): never, less than once a month, a few times a month, several times a week, daily.>}}
\end{enumerate}
Thank you for filling out this form. You are now done!

\section{Post-Experiment Standard Interview Questions}
We asked our participants these questions after they were given time to configure Tor Browser. 

\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt 
\item{Can you talk us through what you did along with what you were thinking at the time?}
\item{What was most challenging part of connecting?}
\item{Were there any unfamiliar terms?}
\item{How did you decide which options to choose?}
\item{What did you think about using Tor?}
\item{What is one change you would recommend?} 
\item{Did you need any additional information?} 
\end{enumerate}  

In addition to these questions, we asked our participants about specific questions based on their observation, usually regarding a specific choice in action, a particular screen they seemed stuck on, and any errors they encountered during the configuration process. 

\section{Quantitative User Recruitment Posting}
We are recruiting up to 40 participants for a user study at UC Berkeley. The experiment will involve basic Internet browsing tasks. You are not eligible if you have participated in a previous session on 3/23.\\

\indent Payment: \$30 Amazon gift card\\
\indent Duration: 1 hour \\
\indent Where: Xlab at Hearst Memorial Gymnasium\\

\textit{<list of sessions>}\\

To be eligible, you must be an adult (18 or older). This is to comply with university policies on research. 

If you are interested: 1. Email lnl@berkeley.edu with the sessions you are able to attend. We will confirm your participation and assign you a session. 2. Come to Xlab at the appointed time for the experiment.

\section{Quantitative User Study Introduction Script} 
Imagine you live in an oppressive country that censors part of the Internet. We have simulated this in the laboratory by blocking certain websites and services.  The purpose of this experiment is to evaluate the use of Tor browser, which is a browser that can circumvent censorship and let you visit blocked websites. Currently, torproject is blocked (you can check this by going to torproject.org on a standard browser, like Firefox, Chrome, or Internet Explorer). 

To circumvent censorship successfully, you will need to set up Tor browser correctly and use it to get to Wikipedia. If you are able to reach the website, then you know that you have successfully circumvented censorship. Fill out the question on the worksheet. This isnâ€™t intended to be hard, just write what you see. We want to just check you saw the website. 

Afterward, we ask you to take a short survey to collect some information about you. The link is also on your worksheet.
We will give you time to complete this task. If you finish early, we ask that you sit at your desk until the remainder of the hour. Since we are recording your screen, we ask that you don't do anything personal afterward, like checking your email.

Before you start, do you have any questions about what you are asked to do? 

\section{Quantitative User Study Exit Survey} 
We'd like to know more about you.  All of your answers will be stored separately from any identifying information in order to protect your confidentiality.

This survey is part of a research project being conducted by the University of California, Berkeley. If you have any questions about your rights or treatment as a research participant in this study, please contact the University of California at Berkeley's Committee for Protection of Human Subjects at 510-642-7461, or email subjects@berkeley.edu. If you agree to participate, please click Next below.

\begin{enumerate} \itemsep1pt \parskip0pt \parsep0pt 
\item{What is your participant ID? (This can be found on the sticker ont he left hand corner of the desk you are currently sitting at.)}
\item{What is your gender?}
\item{What is your age?}
\item{Please select your highest completed (or current) level of education}.
\item{What is your current occupation?}  
\end{enumerate}

Thank you for participating in our experiment. You are now done! Please sit at your desk for the remainder of the experiment. Our researchers will formally announce the end of the experiment. 

\end{document}
